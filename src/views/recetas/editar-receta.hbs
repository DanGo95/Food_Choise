<div class="col-md-10 mx-auto" style="margin-top: 50px;">
    <div class="card">
        <div class="card-header">
            <h3>Editar receta</h3>
        </div>
        <div class="card-body">
            <form action="/recetas/editar?_method=PUT&id={{datosEditar._id}}" method="POST" 
                enctype="multipart/form-data">
                <div class="form-group">
                    <input type="text" name="title" class="form-control" placeholder="Nombre del Plato" autofocus value="{{datosEditar.title}}">
                </div>
                <!-- elegir archivo -->
                <div class="input-group mb-3 d-flex justify-content-center border">
                    <div class="row text-center mx-auto">
                        <h4 class="txt-center text-center mx-auto mt-3">Subir imagen</h4>
                        <br>
                        <div class="custom-file" style="margin-bottom: 10px;">
                            <input type="file" class="custom-file-input" id="inputGroupFile01" name="imagen"
                                aria-describedby="inputGroupFileAddon01">
                            <label id='labelFile' class="custom-file-label" for="inputGroupFile01" id="file_name">Seleccione Archivo</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div id="preview">
                                <img src="{{datosEditar.imagenURL}}" class="rounded img-receta">
                            </div>                            
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <textarea name="descripcion" class="form-control" placeholder="Descripcion">{{datosEditar.descripcion}}</textarea>
                </div>
                <div class="form-group">
                    <select name="categoria" id="selCategoria" class="form-control">
                        <option value="{{categoriaActual._id}}">{{categoriaActual.descripcion}}</option>
                        {{#each cat }}
                        <option value="{{_id}}">{{descripcion}}</option>
                        {{/each}}
                    </select>
                </div>
                <div class="form-group">
                    <label for="">Ingredientes: </label>
                    <div class="container">
                        <div class="row d-flex justify-content-center">
                            <div class="col-md-5 col-lg-5 mt-2 ml-2 custom-control custom-checkbox border rounded checkbox">
                                <select class="selectpicker search_query form-control" data-dropup-auto="false" data-live-search="true" name="key" id="key" placeholder="Ingrese y seleccione un ingrediente" tabindex="-98">
                                    <option value="0">Seleccione una categor√≠a</option>
                                    {{#each ing}}
                                        <option value="{{_id}}|{{Descripcion}}">{{Descripcion}}</option>
                                    {{/each}}
                                </select>
                                <div id="suggestions"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group container" id="selecciones">
                    {{#each datosEditar.ingredientes}}
                        <div class="row d-flex justify-content-center" id="ing-all-{{id}}">
                            <button type="button" class="btn btn-outline-danger borrar" id="{{id}}">x</button>
                            <div id="sel-{{id}}" class="col-4 rounded checkbox">{{nombre}}</div>
                            <div class="col-5">
                                <div class="row">
                                    <div class="col-6">
                                        <input type="number" class="form-control" name="cantIng" required min="1" id="cantidadIng-{{id}}" value="{{cantidad}}">
                                    </div>
                                    <div class="col-6">
                                        <select name="cantIng" class="form-control" id="sel-{{id}}-tipoCant" required>
                                            <option value="Gr" {{#if_eq unidad "Gr"}}selected{{/if_eq}}>Gr</option>
                                            <option value="MG" {{#if_eq unidad "MG"}}selected{{/if_eq}}>MG</option>
                                            <option value="L" {{#if_eq unidad "L"}}selected{{/if_eq}}>L</option>
                                            <option value="KG" {{#if_eq unidad "KG"}}selected{{/if_eq}}>KG</option>
                                            <option value="ML" {{#if_eq unidad "ML"}}selected{{/if_eq}}>ML</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <input type="hidden" value="{{id}}" name="ingredientesNom">                                  
                        </div>
                    {{/each}}   
                    <input type="hidden" name="contador" id="contadorIngre" value={{datosEditar.ingredientes.length}}>  
                </div>
                <div class="form-group row">
                    <button class="btn btn-primary btn-block col-6" type="submit">Modificar</button>
                    <a href="/recetas/ver/{{datosEditar._id}}" class="btn btn-danger col-6">Cancelar</a>
                </div>
            </form>
        </div>
    </div>
</div>